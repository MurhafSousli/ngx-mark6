<ng-container
    [lazyImage]="src"
    (loadSuccess)="loadSuccess($event)"
    (loadFailed)="loadFailed($event)"
    [ngSwitch]="state | async"
>
    <img
        *ngSwitchCase="'success'"
        @fadeIn
        class="mark6-image"
        [alt]="alt"
        [src]="imageUrl"
    />

    <div *ngSwitchCase="'failed'" class="mark6-image-error-template">
        <ng-container *ngTemplateOutlet="errorTemplate || defaultErrorTemplate"></ng-container>
    </div>

    <div *ngSwitchCase="'loading'" class="mark6-image-loading-template">
        <ng-container *ngTemplateOutlet="loadingTemplate || defaultLoadingTemplate"></ng-container>
    </div>

</ng-container>

<ng-template #defaultErrorTemplate>
    <h2>âš </h2>
    <p>Unable to load the image!</p>
</ng-template>

<ng-template #defaultLoadingTemplate>
    <div class="mark6-image-placeholder"></div>
</ng-template>
