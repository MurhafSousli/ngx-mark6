<ng-container *ngFor="let message of messages; let isLast = last; let isFirst = first; let i = index;">
    <div class="msg" [class]="message.direction" [ngClass]="{
    'message': true,
    'first-from-direction': messages[i-1] && messages[i-1].direction !== message.direction || isFirst,
    'first-from-user': messages[i-1] && messages[i-1].user_id !== message.user_id || isFirst,
    'last-from-direction': messages[i+1] && messages[i+1].direction !== message.direction || isLast,
    'last-from-user': messages[i+1] && messages[i+1].user_id !== message.user_id || isLast}">
        <div class="msg-avatar" *ngIf="(avatarMe && message.direction === 'me') || (avatarOthers && message.direction === 'others')">
            <img [src]="message.avatar" [alt]="message.user">
        </div>
        <div class="msg-content">
            <div class="msg-message">{{message.message}}</div>
        </div>
    </div>
</ng-container>

<!--
<div class="msg info">
    <div class="msg-content">
        <div class="msg-message">Eine Message an Siglinde Reichholz kostet 90 coins</div>
    </div>
</div>
-->
